# 🔄 EchoPal 개발 워크플로우
> **안전하고 효율적인 작업 절차**

## 🔧 **개발 환경 설정 및 실행법**

### **서버 실행 (필수)**
```bash
# VS Code 터미널에서
cd E:\ecogirl
python proxy_server.py

# 성공 메시지 확인:
# "서버가 http://localhost:8080 에서 실행중입니다."
```

### **주요 접속 URL**
- **메인 홈페이지**: `http://localhost:8080/index.html`
- **에코걸 전체보기**: `http://localhost:8080/ecogirl/gallery.html`
- **에코걸 상세**: `http://localhost:8080/ecogirl/detail_new.html?id=1`
- **마사지 전체보기**: `http://localhost:8080/massage/index.html`
- **마사지 상세**: `http://localhost:8080/massage/detail.html?id=1`
- **섹션별 테스트**: `http://localhost:8080/sections/[섹션명]-section.html`

### **환경 체크 방법**
1. **프록시 서버 정상 작동**: 콘솔에 요청 로그 출력
2. **노션 연동 확인**: 에코걸 이미지 로드 성공
3. **모바일 테스트**: 브라우저 개발자 도구 → 모바일 뷰

## 🎯 **기본 작업 원칙**

### **안전 우선 원칙**
1. **에코걸 절대 보호**: 완성품은 건드리지 않음
2. **모듈화 개발**: 새 기능은 독립 모듈로 개발
3. **단계적 확인**: 작업 전/중/후 체크포인트
4. **백업 우선**: 중요 작업 전 백업 생성

### **표준 템플릿 활용**
- **마사지 시스템 = 표준 템플릿**: 모든 업체군의 기본 구조
- **복사 후 수정**: 80% 복사 + 20% 커스텀
- **개발 시간 단축**: 2주 → 2-3일
- **일관된 UX**: 모든 업체군에서 동일한 사용자 경험

## 🚀 **새 업체군 개발 워크플로우**

### **Step 1: 사전 준비 및 확인**
```bash
✅ 체크리스트:
□ 이 작업이 에코걸에 영향을 주지 않는가?
□ 마사지 템플릿을 기반으로 개발하는가?
□ 새 노션 DB가 필요한가?
□ 개발 환경이 정상 작동하는가?

🔧 환경 확인:
cd E:\ecogirl
python proxy_server.py
# 브라우저: http://localhost:8080/index.html 확인
```

### **Step 2: 표준 템플릿 복사**
```bash
🗂️ 폴더 복사:
massage/ → karaoke/ (또는 다른 업체군명)

📝 파일명 일괄 변경:
massage-detail-data.js → karaoke-detail-data.js
massage-detail-ui.js → karaoke-detail-ui.js
massage-detail-main.js → karaoke-detail-main.js

⚙️ 설정 파일 수정:
- HTML 제목 변경
- CSS 클래스명 필요시 변경
- JavaScript 함수명 변경
```

### **Step 3: 노션 데이터베이스 구축**
```bash
📊 노션 DB 생성:
1. 마사지 DB 구조 복사
2. 업체군별 특화 컬럼 추가
   - 가라오케: 룸타입, 요금제, 특별서비스
   - 풀빌라: 수용인원, 시설정보, 가격대
3. 테스트 데이터 3-5개 입력
4. API 연동 테스트

🔗 프록시 서버 설정:
proxy_server.py에 새 DB ID 추가
```

### **Step 4: 코드 수정 및 연동**
```bash
📝 주요 수정 사항:
1. 노션 DB ID 변경
2. 업체군별 특화 필드 매핑
3. 필터링 옵션 수정
4. 디자인 요소 커스터마이징

🧪 단계별 테스트:
1. 데이터 로딩 테스트
2. 전체보기 페이지 테스트
3. 상세페이지 테스트
4. 모바일 반응형 테스트
```

### **Step 5: 통합 및 배포**
```bash
🔗 메인 페이지 연동:
1. index.html에 새 섹션 추가
2. 메뉴 링크 연결
3. 전체 시스템 테스트

✅ 최종 확인:
□ 에코걸 기능 정상 작동
□ 기존 마사지 기능 정상 작동
□ 새 업체군 기능 정상 작동
□ 모든 브라우저에서 테스트
```

## 🔧 **기존 기능 수정 워크플로우**

### **안전한 수정 절차**
```bash
1. 영향 범위 분석
   - 에코걸과 관련 있는가? → 재확인 요청
   - 다른 모듈에 영향을 주는가?

2. 백업 생성
   - 수정할 파일의 백업 생성
   - backup/ 폴더에 날짜별 저장

3. 최소한의 수정
   - 목표 기능만 정확히 수정
   - 불필요한 변경 피하기

4. 단계별 테스트
   - 수정 부분만 먼저 테스트
   - 전체 시스템 테스트
   - 다른 기능들 정상 작동 확인

5. 롤백 준비
   - 문제 발생 시 즉시 백업으로 복원
   - 원인 분석 후 재시도
```

## 📊 **노션 연동 워크플로우**

### **새 노션 DB 생성 시**
```bash
1. 기존 DB 구조 복사
   - 마사지 DB를 템플릿으로 활용
   - 공통 필드는 동일하게 유지

2. 업체군별 특화 필드 추가
   - 가라오케: 룸타입, 시간요금, 주류메뉴
   - 풀빌라: 수용인원, 풀종류, 바베큐시설
   - 레스토랑: 음식종류, 가격대, 분위기

3. 테스트 데이터 입력
   - 최소 3-5개 실제 업체 정보
   - 모든 필드 데이터 포함

4. API 연동 설정
   - proxy_server.py에 DB ID 추가
   - 필드 매핑 확인
   - 연동 테스트
```

### **노션 필드 매핑 체크리스트**
```javascript
// 반드시 포함해야 할 공통 필드들
기본 정보: ID, 업체명, 연락처, 카카오ID
주소 정보: kr업체주소, vn업체주소, GPS좌표
서비스 정보: 서비스종류, 언어지원
운영 정보: 운영시간, 휴무일
마케팅 정보: 홍보문구, 특별혜택, 업체사진
관리 정보: 계약상태, 월광고금액
```

## 🚨 **에러 처리 워크플로우**

### **에코걸 관련 에러 발생 시**
```bash
🚨 즉시 중단 절차:
1. 작업 즉시 중단
2. 에러 현상 정확히 기록
3. 백업 파일로 즉시 복원
4. 프록시 서버 재시작
5. 전체 기능 정상 작동 확인
6. 원인 분석 후 대안 방법 모색
```

### **노션 연동 에러 발생 시**
```bash
🔧 순차적 확인:
1. 프록시 서버 상태 확인
2. 노션 API 키 유효성 확인
3. DB ID 정확성 확인
4. 네트워크 연결 상태 확인
5. 브라우저 캐시 클리어
6. 백업 데이터로 임시 동작 확인
```

### **일반적인 개발 에러 처리**
```bash
🔍 체계적 디버깅:
1. 에러 메시지 정확히 파악
2. 브라우저 개발자 도구 확인
3. 콘솔 로그 분석
4. 단계별 코드 실행 확인
5. 유사한 동작하는 코드와 비교
6. Stack Overflow 또는 문서 참조
```

## 📝 **문서화 워크플로우**

### **새 기능 개발 시 문서화**
```markdown
1. README.md 업데이트
   - 새 기능 설명 추가
   - 사용법 가이드 추가

2. 해당 모듈 폴더에 문서 추가
   - 04-모듈별문서/ 폴더에 신규 문서
   - 05-구현가이드/ 폴더에 상세 가이드

3. 변경사항 기록
   - 수정 날짜와 내용 기록
   - 다음 개발자를 위한 참고사항
```

### **문제 해결 시 문서화**
```markdown
1. 문제 상황 정확히 기록
2. 해결 과정 단계별 기록
3. 최종 해결 방법 정리
4. 재발 방지 방법 제시
5. 05-구현가이드/ 폴더에 저장
```

## ⚡ **효율성 팁**

### **개발 속도 향상**
- **표준 템플릿 활용**: 80% 재사용으로 시간 단축
- **모듈화 구조**: 부분별 독립 개발 가능
- **노션 연동**: 코딩 없이 데이터 관리
- **백업 시스템**: 빠른 롤백으로 실험 가능

### **품질 보장**
- **단계별 테스트**: 작은 단위로 검증
- **크로스 브라우저**: 여러 브라우저에서 확인
- **모바일 테스트**: 실제 기기에서 확인
- **성능 확인**: 로딩 속도와 반응성 체크

### **협업 효율성**
- **명확한 문서화**: 다음 개발자를 위한 가이드
- **일관된 코딩 스타일**: 기존 패턴 따르기
- **의미있는 커밋**: 변경사항 명확히 기록
- **백업 파일 관리**: 히스토리 추적 가능

---

**🎯 핵심 워크플로우**: 안전 확인 → 템플릿 복사 → 점진적 수정 → 단계별 테스트

**🛡️ 안전 원칙**: 에코걸 보호가 최우선

**⚡ 효율성**: 표준 템플릿으로 개발 시간 90% 단축
